<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>News - YC LEE ARCHITECT</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      margin:0; padding:0;
      font-family:"Poppins",sans-serif;
      background-color:#0b1a33;
      color:white;
    }

    header {
      background-color:#10264d;
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:15px 30px;
    }
    .logo-text .yc { color:orange; font-weight:bold; }
    .logo-text { font-size:1.3rem; font-weight:bold; }

    .nav-bar a {
      color:white;
      text-decoration:none;
      margin-left:20px;
      transition:0.3s;
    }
    .nav-bar a:hover { color:orange; }

    .hero {
      text-align:center;
      padding:40px 20px;
      background:linear-gradient(90deg,#0b1a33,#132e57);
    }
    .hero h2 { font-size:2rem; color:orange; margin-bottom:10px; }

    /* è½®æ’­æ–°é—» */
    .news-carousel {
      position:relative;
      max-width:1000px;
      margin:0 auto 50px auto;
      overflow:hidden;
      border-radius:12px;
    }
    .news-slide {
      display:none;
      position:relative;
      text-align:center;
      transition:opacity 1s ease;
    }
    .news-slide.active {
      display:block;
      opacity:1;
      animation:fadeSlide 1s ease;
    }
    .news-slide img {
      width:100%;
      max-height:400px;
      object-fit:cover;
      border-radius:12px;
    }
    .news-slide h3 {
      position:absolute;
      bottom:60px;
      left:50%;
      transform:translateX(-50%);
      color:orange;
      background:rgba(0,0,0,0.6);
      padding:10px 20px;
      border-radius:8px;
    }
    .news-slide p {
      position:absolute;
      bottom:20px;
      left:50%;
      transform:translateX(-50%);
      color:white;
      background:rgba(0,0,0,0.5);
      padding:8px 16px;
      border-radius:6px;
      max-width:90%;
    }

    @keyframes fadeSlide {
      from { opacity:0; transform:translateY(20px); }
      to { opacity:1; transform:translateY(0); }
    }

    /* æ–°é—»åˆ—è¡¨ */
    .news-list {
      max-width:1000px;
      margin:auto;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
      gap:25px;
      padding:0 20px 50px 20px;
    }
    .news-item {
      opacity:0;
      transform:translateY(20px);
      transition:all 0.8s ease;
      border-radius:12px;
      overflow:hidden;
      background:#162b52;
      box-shadow:0 4px 10px rgba(0,0,0,0.3);
    }
    .news-item.visible {
      opacity:1;
      transform:translateY(0);
    }
    .news-item img {
      width:100%;
      height:200px;
      object-fit:cover;
    }
    .news-item h4 {
      color:orange;
      margin:10px 15px 5px 15px;
    }
    .news-item p {
      color:white;
      margin:0 15px 15px 15px;
    }

    footer {
      text-align:center;
      padding:20px;
      background:#10264d;
      margin-top:40px;
    }
    footer a { color:white; text-decoration:none; margin-left:10px; }

    @media screen and (max-width:700px) {
      .news-list { grid-template-columns:1fr; }
    }
  </style>
</head>
<body>

  <header>
    <div class="logo-text"><span class="yc">YC</span> LEE Architect</div>
    <nav class="nav-bar">
      <a href="index2.html" data-lang-key="nav_home">Home</a>
      <a href="projects.html" data-lang-key="nav_projects">Projects</a>
      <a href="about.html" data-lang-key="nav_about">About</a>
      <a href="contact.html" data-lang-key="nav_contact">Contact</a>
      <a href="new.html" data-lang-key="nav_news">News</a>
    </nav>
  </header>

  <section class="hero">
    <h2 data-lang-key="news_title">Latest News</h2>
    <p data-lang-key="news_subtitle">Stay updated with our recent projects and events</p>
  </section>

  <!-- è½®æ’­ -->
  <section class="news-carousel" id="carousel"></section>

  <!-- æ–°é—»åˆ—è¡¨ -->
  <section class="news-list" id="newsList"></section>

  <footer>
    &copy; 2025 YC Lee Architect. All rights reserved.
    <a href="https://www.facebook.com/share/1anBcGg8aw/" target="_blank">Facebook</a>
  </footer>

  <script>
    // ---------- æ–°é—»æ•°æ®ï¼ˆæœ€æ–°æ”¾æœ€å‰ï¼‰ ----------
    const newsData = [
      {
        img:"images/news3.jpg",
        titleKey:"news_slide3_title",
        descKey:"news_slide3_desc",
        defaultTitle:"ðŸŒ¿ Sustainability Focus in Recent Projects",
        defaultDesc:"We integrate eco-friendly designs and sustainable materials in all our projects."
      },
      {
        img:"images/news2.jpg",
        titleKey:"news_slide2_title",
        descKey:"news_slide2_desc",
        defaultTitle:"ðŸ›  Site Inspection Completed Successfully",
        defaultDesc:"Our team conducted rigorous inspection ensuring compliance with safety and design standards."
      },
      {
        img:"images/news1.jpg",
        titleKey:"news_slide1_title",
        descKey:"news_slide1_desc",
        defaultTitle:"ðŸ¢ New 35-Storey Apartment Completed @ Manjung",
        defaultDesc:"âœ… CCC Approved + Strata Title ðŸ“œ Quality and safety guaranteed."
      }
    ];

    const carousel = document.getElementById("carousel");
    const newsList = document.getElementById("newsList");

    // æ¸²æŸ“æ–°é—»ï¼ˆåˆ—è¡¨ + è½®æ’­åŒæ­¥ï¼‰
    function renderNews(){
      newsData.forEach((item,idx)=>{

        // åˆ—è¡¨æ–°é—»
        const listItem=document.createElement("div");
        listItem.classList.add("news-item");
        listItem.innerHTML=`
          <img src="${item.img}">
          <h4 data-lang-key="${item.titleKey}">${item.defaultTitle}</h4>
          <p data-lang-key="${item.descKey}">${item.defaultDesc}</p>
        `;
        newsList.appendChild(listItem);
      });

      // è½®æ’­ä½¿ç”¨åˆ—è¡¨æ–°é—»å†…å®¹
      const listItemsRendered=document.querySelectorAll(".news-item");

      listItemsRendered.forEach((li,idx)=>{
        const img=li.querySelector("img").src;
        const title=li.querySelector("h4").innerHTML;
        const desc=li.querySelector("p").innerHTML;
        const titleKey=li.querySelector("h4").getAttribute("data-lang-key");
        const descKey=li.querySelector("p").getAttribute("data-lang-key");

        const slide=document.createElement("div");
        slide.classList.add("news-slide");
        if(idx===0) slide.classList.add("active");

        slide.innerHTML=`
          <img src="${img}">
          <h3 data-lang-key="${titleKey}">${title}</h3>
          <p data-lang-key="${descKey}">${desc}</p>
        `;
        carousel.appendChild(slide);
      });
    }

    renderNews();

    // è‡ªåŠ¨åˆ‡æ¢è½®æ’­
    let slideIndex=0;
    function showNextSlide(){
      const slides=document.querySelectorAll(".news-slide");
      slides.forEach(s=>s.classList.remove("active"));
      slideIndex=(slideIndex+1)%slides.length;
      slides[slideIndex].classList.add("active");
    }
    setInterval(showNextSlide,5000);

    // æ–°é—»æ»šåŠ¨å‡ºçŽ°åŠ¨ç”»
    function revealOnScroll(){
      const items=document.querySelectorAll(".news-item");
      items.forEach(item=>{
        const top=item.getBoundingClientRect().top;
        if(top < window.innerHeight - 50){
          item.classList.add("visible");
        }
      });
    }
    window.addEventListener("scroll",revealOnScroll);
    window.addEventListener("load",revealOnScroll);

    // å¤šè¯­è¨€ç³»ç»Ÿ
    const LANG_STORAGE_KEY="yc-lee-architect-lang";
    document.addEventListener("DOMContentLoaded",function(){
      const savedLang=localStorage.getItem(LANG_STORAGE_KEY)||"en";
      applyLanguage(savedLang);
    });

    async function applyLanguage(lang){
      try{
        const res=await fetch(`lang/${lang}.json`);
        const data=await res.json();
        document.querySelectorAll("[data-lang-key]").forEach(el=>{
          const key=el.getAttribute("data-lang-key");
          if(data[key]) el.textContent=data[key];
        });
      }catch(err){
        console.error("è¯­è¨€åŠ è½½å¤±è´¥:",err);
      }
    }
  </script>

</body>
</html>
